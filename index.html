<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Aryido Tech Note | Aryido</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Fantasy Virtualization"><meta name=generator content="Hugo 0.102.3"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><link href=/index.xml rel=alternate type=application/rss+xml title=Aryido><link href=/index.xml rel=feed type=application/rss+xml title=Aryido><meta property="og:title" content="Aryido Tech Note"><meta property="og:description" content="Fantasy Virtualization"><meta property="og:type" content="website"><meta property="og:url" content="https://aryido.github.io/"><meta itemprop=name content="Aryido Tech Note"><meta itemprop=description content="Fantasy Virtualization"><meta name=twitter:card content="summary"><meta name=twitter:title content="Aryido Tech Note"><meta name=twitter:description content="Fantasy Virtualization"></head><body class="ma0 avenir bg-near-white"><header class="cover bg-top" style=background-image:url(https://aryido.github.io/images/hero-image.jpg)><div class=bg-black-60><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Aryido</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav><div class="tc-l pv4 pv6-l ph3 ph4-ns"><h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">Aryido Tech Note</h1><h2 class="fw1 f5 f3-l white-80 measure-wide-l center mt3">Fantasy Virtualization</h2></div></div></header><main class=pb7 role=main><article class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"><p>Welcome to my Tech Note. You can read some of the chapters below.</p></article><div class="pa3 pa4-ns w-100 w-70-ns center"><h1 class=flex-none>Recent Posts</h1><section class="w-100 mw8"><div class="relative w-100 mb4"><article class="bb b--black-10"><div class="db pv4 ph3 ph0-l no-underline dark-gray"><div class="flex flex-column flex-row-ns"><div class="pr3-ns mb4 mb0-ns w-100 w-40-ns"><a href=/post/20200902/ class="db grow"><img src=https://aryido.github.io/images/20220902/grafana-icon.jpg class=img alt="image from 建立grafana dashboard plugin"></a></div><div class="blah w-100 w-60-ns pl3-ns"><h1 class="f3 fw1 athelas mt0 lh-title"><a href=/post/20200902/ class="color-inherit dim link">建立grafana dashboard plugin</a></h1><div class="f6 f5-l lh-copy nested-copy-line-height nested-links">雖然 Grafana 已經內置了多種類型的dashboard，但有時候可能會覺得官方或其他免費開源plugin，提供的功能不太夠。這時就需要建立自己的dashboard。
Prerequisites Grafana >=7.0 grafana 於 7.0 版，整合了Time series 和 Table structures 為一個更廣義的data structure，稱Data frames
NodeJS >=14 panel 部分都由typescript撰寫，需要編譯成js
yarn 前端打包工具(類似maven)
環境架設 grafana有提供一個CLI application，工具叫做grafana-toolkit。運用該工具，在create一個新的plugin後，會把環境和基礎模板設定好，可以更方便我們打包自製plugin和建立環境 plugin 模板分析 grafana在讀取plugin時，會參考兩個重要檔案。
1. plugin.json 2. module.ts(js) plugin.json 當 Grafana server啟動時，它會掃描Grafana server內的plugin目錄(預設/var/lib/grafana/plugins)下的一層子目錄，查找包含 plugin.json的目錄。
舉例一些plugin.json強制需要的屬性：
type 告訴Grafana是什麼類型的plugin。只有三種。app, datasource, panel.
name 在登入grafana後，製作panel時右邊視覺化選單列表中，看到的名稱。
id Unique name of the plugin. If the plugin is published on grafana.com, then the plugin id has to follow the naming conventions.。
plugin.json 其他詳細介紹</div><a href=/post/20200902/ class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a></div></div></div></article></div></section></div></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://aryido.github.io/>&copy; Aryido 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>