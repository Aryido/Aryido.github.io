---
title:  DNS 概述

author: Aryido

date: 2024-06-24T23:26:00+08:00

thumbnailImage: "/images/google-cloud//.jpg"

categories:
- 

tags:
- 

comment: false

reward: false
---
<!--BODY-->
> 

<!--more-->

---

# DNS

DNS 全稱是 Domain Name System 網域名稱系統，主要負責維護 Domain Name 與 IP 的對應，例如 www.google.com 就是  Domain Name ，而可以轉變成為如 `74.125.29.101` IP 的請求。每次透過 google.com 訪問網站時，使用者必須透過 DNS Server 的查詢才能正確找到自己想看的網站 IP，也因為 User 是透過 Domain Name 查詢網站，因此網域名稱建議也是企業品牌，會讓使用者有記憶點。




{{< image classes="fancybox fig-100" src="/images/google-cloud/" >}}



  {{< alert warning >}}

{{< /alert >}}



---

Hi 我是三木。我不知道你還有不用印象，我在這個系列內容的一開始，在介紹網站打開的原理中簡單介紹過DS。

我們在透過 URL 開啟網站的過程中，其實就是流染期後取到了影藏在網址背後的網站服務期待IPD值。

透過造訪這個IPD值的網站服務期來開啟網站。也就是說所有的譽明，就是我們常說的網址，真正發揮作用的是他背後的服務期的IPD值。

那DIS全程都沒能夠接種。翻譯過來就是譽明系統。

在我看來，他是一種機制，是管理和查詢世界上所有譽明所對應的IPD值的非常有效率的機制。

實現這個機制主要靠著專門的DIS服務期們，我這裡說的是門。網路時間中有很多很多的DIS服務期。

他們到底如何協助實現譽明和IPD值高效查詢和管理的呢?

我們這期內容就來了解像DIS背後的工作原理。

DIS服務期們，有一個分層協助的機制。這個分層機制和我們了解過的譽明的成績有非常大的關係。

比如說B站的譽明，3WBD.Cone。看我之前的一期講解譽明的小夥伴一定都知道，最右邊的Cone是頂級譽明。

網左的BB是一期譽明，在網左是2期譽明3W，如果網左還有的話，等級就一次地檢。

不過其實還有一個跟譽明，電root應該寫在譽明的最右側，也就是等級最高的譽明。

所以比站這個完整的譽明應該是3W.BBD.Cone電root，但是這個跟譽明，因為它是唯一的，那寫了一個沒寫沒差。寫了反而寫得多譽。

因此我們在日常使用過程中，基本上都不會寫跟譽明。

只不過在有些場景或是有些譽的寫法，會帶點root或只有一個點。

例如3W.BD.Cone電，這樣的一個簡化的寫法。

那麼跟譽明與譽明的成績，跟我們這個DNS伺服器有什麼關係呢?

若現在有一個人想要在流染器裡面打開B站，那它在流染器裡面輸入的是3W.BD.Cone電root，然後回車。

然後流染器會透過網路去向某台DNS伺服器查尋這個3W.BD.Cone電root，這個譽明背後對應來PD值。

那每台連網的設備都會有一台指定的DNS來幫助自己去完成這個查尋的過程。

那這裡就好比我是負責查尋任務的DNS伺服器吧。那我查找到過程呢，會先從DNS伺服器們中的一種叫RotDNS3FIRG，就是跟DNS伺服器開的招棄。

這種伺服器是專門用來指負責記錄，控製OIG，Net等等這些頂級譽明的DNS伺服器的網路記指。

那也就是說RotDNS伺服器收到這個譽明的查尋請求之後呢，他只看你要查尋的譽明的頂級譽明是什麼?

他一看又這個是Cone頂級譽明，他就會回覆。

好但這裡是負責管理Cone頂級譽明的DNS伺服器的網路位址，你去這些伺服器那你問問看吧。

我這台DNS伺服器收到這些從跟DNS伺服器發回的這個訊息之後呢，用馬布廷提的去找負責控這個頂級譽明的DNS伺服器啦。

那負責控這個頂級譽明的伺服器在了解我的查尋請求之後，他幫我查BBBD點控這個譽明的資訊。

然後發現專門負責BBB點控譽明的DNS伺服器的網路位址。

那這種DNS伺服器一般被稱為Nin server，然後他就把這個DNS伺服器的網路位址傳給我了。

然後我就繼續去找專門Nin server，從他那裡呢，我終於找到了3W點BBB點抗這個譽明的IPD值。

然後我再把這個訊息回傳給就冷氣。這樣，那就冷氣就可以存取這個IPD值來打開B站啦。

這種分層的協助機制是不是和譽的成績很相似。跟譽明頂級譽明一級譽。跟DNS伺服器頂級譽明DNS伺服器。 Nin serverDNS伺服器。

那每一層伺服器只負責記錄下一層譽明的DNS伺服器的資訊。

大概的查尋機制就是這樣。接下來呢，我們還是要從頭在旅邊整個過程，讓大家清楚的了解更多的細節。

例如我住在上海某個小區，

假如今天是我有生意來機制在自電腦上想看B站。

於是我小星意義的在我電腦的流浪器裡面輸入的3W點BBB點抗，然後插了一下回車。

這時，流浪器會先插了他自己的DNS快取。

如果我之前在電腦上造訪過B站，那裡面有可能就有這個譽明的紀錄。

那就有相信的這個王子的IPD值的信息，就可以直接訪問了。

但因為我這裡說的是DNS緩問嘛，所以他就在快取裡面找不到。

那接著，仍然氣會現在本地電腦上一個叫Hosz檔案中查找對應的譽明和IP的對應機錄。

那如果沒有的話，他就會把這個查尋請求發送到你電腦網路、車子中設定好的DNS服務欺賞。

一般，我們的電腦和手機連上網路的時候，這個都是自動設定好的。

當然，如果你知道我跟公開的DNS服務欺負責地質，也可以自己手動直接在網路設定管理裡面進行設定。

那例如比較有名的像Google的DNS，8888.

那這種設定的DNS服務欺的IPD值，通常都是管理這個 Wi-Fi的路由器，像是像192.168.0.11之類的。

而路由器，說到這個DNS查尋的請求之後，他會把它轉發到光貓，就是那個寬代盒子，上面設置好的相應的寬代服務上提供的DNS服務欺賞。

電信連通移動，他們都有各自很多這樣的DNS服務欺，這種DNS服務欺賞會負責各自區域內的聯網設備的DNS服務欺賞的查尋。

例如我家電腦被自動分配的這個，他可能只負責我家附近幾個小區的所有的DNS貴賞的處理。

這種DNS服務欺賞一般被稱為 Local and DNS Server，那麼 Local and DNS Server或是你自己手動設定的DNS服務欺賞，就會負責你遇名背後的IPD值的查尋工作。

當負責我的 Local and DNS Server，說到我這台電腦的流染器所發送的這個運名請求查尋請求。

他會現在他自己服務欺賞的地查尋，看看有沒有已經查尋過的記錄，如果有別的設備剛好在不久之前，已經透過這台DNS服務欺賞尋過3W.Bilibit.com的運名。

那他下面是會有快取的，有的話直接反覆對應的IPD值到我電腦的流染器上。

如果他在負責你面的快取中，長了一圈並沒有發現3W.Bilibit.com的網址的資訊。

那麼這個 Local and DNS Server，會像 Root's DNS Server，就是跟DNS服務欺賞的查尋請求。

可能有的會問，為什麼這個寬代運商的DNS服務欺賞會知道跟DNS服務欺的IPD值呢?

因為跟DNS服務欺在全球只有13台，而且基本上是固定不變的，所以在所有DNS服務欺賞中，他們的資訊都是內建的。

接著的過程就是依照我之前先跟大家介紹過的分層查尋機制進行查尋，

先向跟DNS服務欺賞尋，或去負責抗這個頂級運名的DNS服務欺賞。

然後負責幫你查尋的DNS服務欺賞，接著會像負責抗這個頂級運名的DNS服務欺賞，查尋負責Bilibit.com這個一級運名的DNS服務欺賞信息。

查尋到之後，在向負責Bilibit.com的DNS服務欺賞，也就是NinS Server查尋3W.Bilibit.com這個2級運名的服務欺賞IPD值資訊。

查尋後就回到電腦上的流量器，這樣流量器就能防我IPD值來開啟網站了。

其實除了跟DNS服務欺賞是固定的13台，每一層查尋回來的服務欺賞資訊數量一般都不只一台。

而LOCODNS Server也會向查尋回來的每一台服務欺賞都發送查尋侵求，那哪台款回的訊息快來就用哪台款回的訊息。

這樣就是一個比較完整的流程了。



### 參考資料

- [DNS工作原理 | 什么是DNS 它如何工作](https://www.youtube.com/watch?v=ZqWb5nNzTf8&t=20s)

https://medium.com/@kellenjohn175/explanation-gcp-%E6%96%B0%E6%89%8B%E6%9D%91-instance-group-cloud-dns-load-balancer-1733b35de56


https://hackmd.io/@xsggt/r1IuU5hcw

https://linux.vbird.org/linux_server/rocky9/0210dns.php

https://aws.amazon.com/tw/route53/what-is-dns/

https://www.checkpoint.com/tw/cyber-hub/cyber-security/what-is-dns-domain-name-server/

https://hogantechs.com/zh_tw/system-design-what-is-dns-how-dns-work/